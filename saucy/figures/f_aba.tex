\begin{minipage}{0.5\textwidth}
\begin{bbox}[title={Functionality $\F_\m{aba}(\mathcal{P})$}]
~
Let \honest be the set of honest parties and \crupt the corrupt ones

Let $\msf{nt} = \msf{nf} := 0$ be the number of ``1'' and ``0'' inputs from the parties, respectively

Let $\msf{adv} := \bot$ and $\msf{decision} := \bot$

\begin{itemize}
\item[--] on \inmsg{$v_i$} from \A, set $\msf{adv} = v_i$

\item[--] wait to receive \inmsg{input}{$v_i$} from all $p_i \in \mathcal{P}$, increament \msf{nt} if $v_i = 1$ or \msf{nf} analogously. Send \m{ok} back in the mean time.
    
\item[--] once received from all $\mathcal{P}$: 
\begin{itemize}
\item if $\msf{nt} > t$ and $\msf{nf} > t$ and $\msf{adv} \neq \bot$:

\quad set $\msf{decision} := \msf{adv}$

else if $\msf{nt} > t$ then set $\msf{decision} := 1$

else if $\msf{nf} > t$ then set $\msf{decision} := 0$

\item for $p \in \mathcal{P}$: Eventually send \m{decision} to $p$
\end{itemize}

\end{itemize}

\end{bbox}
\end{minipage}
