\begin{bbox}[title={Subroutine {\bf ExecuteWithTimeout} $(c, T)$}]

$t \leftarrow$ current round \# in \Wsync

\Send $(\Schedule, c, T-t) \color{red} $1 \token$ \color{black} \rightarrow \Wsync$

\OnInput \inmsg{exec} from $\F_{\msf{State}}$:

\quad $t \leftarrow$ current round \# from \Wsync
\begin{renumerate}
\item \If $t < T$:
	
	\qquad \Send $(\Schedule, c, T-t) \color{red} 1 \token \color{black} \rightarrow \Wsync$

\item \Else:
	
	\qquad Execute $c$

\end{renumerate}

\end{bbox}


\begin{bbox}[title={Functionality $\F_{\msf{State}} (\Delta, U, C, \mathcal{P} = \{P_1,...,P_n\}$}]

Initialize $\msf{state} = \emptyset, \msf{buf} = [], \msf{aux\_in} = [], \msf{ptr} = 0$

$r := 0$

\vspace{2mm} \hrule \vspace{2mm}


\OnInput \inmsg{input}{v} from $P_i$:

\quad \If first input received from $P_i$ in $r$:

\begin{renumerate}
	\item \If 
\end{renumerate}

\end{bbox}
