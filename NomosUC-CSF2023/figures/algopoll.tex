
\begin{bbox}[title={Algorithm $\msf{Poll}$}]

\begin{renumerate}

  	\item $\msf{ideal\_delay} \minuseq 1$
  	
  	\item If $\msf{ideal\_delay} = 0$:
  	 
  		\quad \Send $(\textsc{delay}, 1 \token) \rightarrow \mathcal{W}_\msf{sync}$

  		\quad $\msf{ideal\_delay} = 1$

  	\item \Send $(\textsc{poll},) \rightarrow \mathcal{W}_\msf{sync}'$
 
  	\item If output $m$ from simulated party $P_i'$:

%			\quad Call $\msf{SimGetLeaks}$

			\quad Call \msf{SimPartyOutput}($m$, $P_i'$)
		
		Else if output $m$ from simulated adversary $\mathcal{A}'$:

			\quad \Send $m \rightarrow \mathcal{Z}$

\end{renumerate}

\end{bbox}
