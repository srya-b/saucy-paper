\begin{figure}
\centering
\begin{minipage}{0.38\textwidth}
\begin{bbox}[title={Functionality $\F_{\m{com}}(S, R)$}]

\OnInput \inmsg{\msf{Commit}}{$b$} from $S$: 

\qquad store $b$ and \Send $(\m{Committed})$ to $R$

then \OnInput \inmsg{Open} from $S$: 

\qquad \Send $(\m{Opened}, b)$ to $R$
\end{bbox}
\end{minipage}
\hspace{3em}
\begin{minipage}{0.5\textwidth}
\begin{lstlisting}[basicstyle=\scriptsize\BeraMonottFamily, frame=single, mathescape, numbers=left, xleftmargin=2em, xrightmargin=2em]
$\nproc$ Fcom: (S: sender), (R: receiver)  |- (fc: 1) =
  $\ncase$ S (
    Commit => b = $\nrecv$ S ;
              $\nget$ {2} S ;
              R.Committed ;
              $\ncase$ S (
                Open => R.Opened ;
                        $\nsend$ R b ; ))
\end{lstlisting}
\end{minipage}
\caption{(a) Pseudocode for \Fcom parameterized by sender $S$ and receiver $R$,
and (b) corresponding code in NomosUC}
\label{fig:fcomideal}
\vspace{-4mm}
%%\Description{Ideal Fcom}
\end{figure}
